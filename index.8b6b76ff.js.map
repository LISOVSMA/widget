{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,mG,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCA5F,MAAMC,EAAcC,SAASC,cAAc,YA8CvCF,GA1CJG,iBACEH,EAAYI,UAAY,qDAEVC,EAAAZ,oCAGd,MAEMa,QAAiBC,MADrB,gHACmC,CACnCC,OAAQ,QAEJC,QAAuBH,EAASI,OAClCJ,EAASK,GAOf,SAAoBC,GAClB,MAAMC,EAAWD,EAAKE,KAChBC,EAAOC,KAAKC,MAAML,EAAKM,KAAKH,MAC5BI,EAAYH,KAAKC,MAAML,EAAKM,KAAKE,YACjCC,EAAgBT,EAAKU,QAAQ,GAAGJ,KAChCK,EAAcX,EAAKU,QAAQ,GAAGE,KAE9BC,EAAW,4GAGgBZ,+CACEQ,sHAGsBE,eAAyBF,uEAGjDN,+DACkBI,UAEnDnB,EAAYI,UAAYqB,C,CA1BtBC,CAAWjB,GAEXT,EAAYI,UAAYK,EAAekB,O,CA4BzCC","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-adc8ea8910547a81.js","node_modules/@parcel/runtime-js/lib/runtime-f977afbb34e00719.js","src/js/widget.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.8b6b76ff.js\\\",\\\"3g8O7\\\":\\\"loading.7d130c59.gif\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3g8O7\")).toString();","const wetherBlock = document.querySelector('#weather');\n\nimport myImage from '/src/images/loading.gif';\n\nasync function loadWeather() {\n  wetherBlock.innerHTML = `\n  <div class=\"weather__loading\">\n    <img src=\"${myImage}\" alt=\"Loading...\" />\n  </div>`;\n\n  const server =\n    'https://api.openweathermap.org/data/2.5/weather?units=metric&q=Kharkiv&appid=1492ab3abea0bcc790a5243042e94c71';\n  const response = await fetch(server, {\n    method: 'GET',\n  });\n  const responseResult = await response.json();\n  if (response.ok) {\n    getWeather(responseResult);\n  } else {\n    wetherBlock.innerHTML = responseResult.message;\n  }\n}\n\nfunction getWeather(data) {\n  const location = data.name;\n  const temp = Math.round(data.main.temp);\n  const feelsLike = Math.round(data.main.feels_like);\n  const weatherStatus = data.weather[0].main;\n  const weatherIcon = data.weather[0].icon;\n\n  const template = `\n    <div class=\"weather__header\">\n      <div class=\"weather__main\">\n      <div class=\"weather__city\">${location}</div>\n      <div class=\"weather__status\">${weatherStatus}</div>\n      </div>\n      <div class=\"weather__icon\">\n          <img src=\"https://api.openweathermap.org/img/w/${weatherIcon}.png\" alt=\"${weatherStatus}\" />\n      </div>\n      </div>\n      <div class=\"weather__temp\">${temp}</div>\n      <div class=\"weather__feels-like\">Feels-like: ${feelsLike}</div>`;\n\n  wetherBlock.innerHTML = template;\n}\n\nif (wetherBlock) {\n  loadWeather();\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$8ee4aa6bbafd0d0e$exports","URL","resolve","import","meta","url","toString","$2a3d653112a5645f$var$wetherBlock","document","querySelector","async","innerHTML","$parcel$interopDefault","response","fetch","method","responseResult","json","ok","data","location","name","temp","Math","round","main","feelsLike","feels_like","weatherStatus","weather","weatherIcon","icon","template","$2a3d653112a5645f$var$getWeather","message","$2a3d653112a5645f$var$loadWeather"],"version":3,"file":"index.8b6b76ff.js.map"}